<!DOCTYPE html>
<html lang="en">
	<head>
		<title>YukiTheater: Flash Test</title>
		<script src="js/videotest.js" type="text/javascript"></script>
		<style type="text/css">
			body {
				width: 100%;
				height: 100%;
				background-color: #DDD;
			}
			#noflash {
				font-family: sans-serif;
				font-weight: 800;
				font-size: 24px;
				text-align: center;
			}
		</style>
	</head>
	<body>
		<div id="noflash"></div>
		<script type="text/javascript">
			var elem = document.getElementById("noflash");
			var isAwesomium = navigator.userAgent.indexOf("Awesomium") != -1;
			var isGModCEF = navigator.userAgent.indexOf("Chrome") != -1 && navigator.userAgent.indexOf("GMod/13") != -1;

			if (isAwesomium || isGModCEF) {
				elem.style.color = "#FFFFFF";
				elem.innerHTML = "Your browser is " + (isAwesomium ? "Awesomium" : isGModCEF ? "Chromium Embedded Framework" : "Unknown") + ".<br/>";

				if (Modernizr.flash) {
					elem.innerHTML = elem.innerHTML + "Adobe Flash Player detected.<br/>";
					document.body.style.backgroundColor = "#80BA27";
				} else {
					elem.innerHTML = elem.innerHTML + "Adobe Flash Player not detected!<br/>";
					document.body.style.backgroundColor = "#FF0000";
				}

				if (Modernizr.video) {
					elem.innerHTML = elem.innerHTML + "Video Support available (";
					elem.innerHTML = elem.innerHTML + "h264: " + (Modernizr.video.h264 != "" ? Modernizr.video.h264 : "no") + ", ";
					elem.innerHTML = elem.innerHTML + "hls: " + (Modernizr.video.hls != "" ? Modernizr.video.hls : "no") + ", ";
					elem.innerHTML = elem.innerHTML + "ogg: " + (Modernizr.video.ogg != "" ? Modernizr.video.ogg : "no") + ", ";
					elem.innerHTML = elem.innerHTML + "vp9: " + (Modernizr.video.vp9 != "" ? Modernizr.video.vp9 : "no") + ", ";
					elem.innerHTML = elem.innerHTML + "webm: " + (Modernizr.video.webm != "" ? Modernizr.video.webm : "no") + ")";
				} else {
					elem.innerHTML = elem.innerHTML + "Video Support not available!";
				}
			} else {
				elem.innerHTML = "You are not in GMod!<br/>Please open this webpage in GMod to get Video Support Analysis.";
			}
		</script>
	</body>
</html>
